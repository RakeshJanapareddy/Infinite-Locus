{"ast":null,"code":"import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{fetchProducts,fetchCategories}from\"../services/api\";import strings from\"../common/strings\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductsPage=()=>{const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[categories,setCategories]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState(\"\");const[selectedCategory,setSelectedCategory]=useState(\"\");useEffect(()=>{const loadData=async()=>{try{const[productsData,categoriesData]=await Promise.all([fetchProducts(),fetchCategories()]);setProducts(productsData);setFilteredProducts(productsData);setCategories([\"All\",...categoriesData]);}catch(error){console.error(\"Error loading data:\",error);}finally{setLoading(false);}};loadData();},[]);useEffect(()=>{let filtered=products;if(searchTerm){filtered=filtered.filter(product=>product.title.toLowerCase().includes(searchTerm.toLowerCase())||product.description.toLowerCase().includes(searchTerm.toLowerCase()));}if(selectedCategory&&selectedCategory!==\"All\"){filtered=filtered.filter(product=>product.category===selectedCategory);}setFilteredProducts(filtered);},[products,searchTerm,selectedCategory]);const handleSearchChange=e=>{setSearchTerm(e.target.value);};const handleCategoryChange=e=>{setSelectedCategory(e.target.value);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"section\",{className:\"search-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:strings.SearchCloth,value:searchTerm,onChange:handleSearchChange,className:\"search-input\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedCategory,onChange:handleCategoryChange,className:\"filter-select\",children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"container\",style:{padding:\"2rem 20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:\"2rem\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:\"2rem\",fontWeight:\"700\"},children:selectedCategory===\"\"||selectedCategory===\"All\"?\"All Products\":selectedCategory}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#666\"},children:[filteredProducts.length,\" product\",filteredProducts.length!==1?\"s\":\"\",\" found\"]})]}),filteredProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h2\",{children:strings.NoProducts}),/*#__PURE__*/_jsx(\"p\",{children:strings.TryAdjust}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm(\"\");setSelectedCategory(\"\");},className:\"btn btn-primary\",children:strings.clearFil})]}):/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:filteredProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.title,className:\"product-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"0.5rem\",marginTop:\"1rem\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),className:\"btn btn-outline\",style:{flex:1},children:\"View Details\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),className:\"btn btn-primary\",style:{flex:1},children:\"Add to Cart\"})]})]})]},product.id))})]})]});};export default ProductsPage;","map":{"version":3,"names":["useState","useEffect","Link","fetchProducts","fetchCategories","strings","jsx","_jsx","jsxs","_jsxs","ProductsPage","products","setProducts","filteredProducts","setFilteredProducts","categories","setCategories","loading","setLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","loadData","productsData","categoriesData","Promise","all","error","console","filtered","filter","product","title","toLowerCase","includes","description","category","handleSearchChange","e","target","value","handleCategoryChange","className","children","type","placeholder","SearchCloth","onChange","map","style","padding","display","justifyContent","alignItems","marginBottom","fontSize","fontWeight","color","length","NoProducts","TryAdjust","onClick","clearFil","src","image","alt","price","gap","marginTop","to","concat","id","flex"],"sources":["E:/Infinite-Locus/infinite-frontend/src/pages/ProductsPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchProducts, fetchCategories } from \"../services/api\";\r\nimport strings from \"../common/strings\";\r\n\r\nconst ProductsPage = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const [productsData, categoriesData] = await Promise.all([\r\n          fetchProducts(),\r\n          fetchCategories(),\r\n        ]);\r\n        setProducts(productsData);\r\n        setFilteredProducts(productsData);\r\n        setCategories([\"All\", ...categoriesData]);\r\n      } catch (error) {\r\n        console.error(\"Error loading data:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let filtered = products;\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(\r\n        (product) =>\r\n          product.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n          product.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (selectedCategory && selectedCategory !== \"All\") {\r\n      filtered = filtered.filter(\r\n        (product) => product.category === selectedCategory\r\n      );\r\n    }\r\n\r\n    setFilteredProducts(filtered);\r\n  }, [products, searchTerm, selectedCategory]);\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleCategoryChange = (e) => {\r\n    setSelectedCategory(e.target.value);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"search-section\">\r\n        <div className=\"search-container\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder={strings.SearchCloth}\r\n            value={searchTerm}\r\n            onChange={handleSearchChange}\r\n            className=\"search-input\"\r\n          />\r\n          <select\r\n            value={selectedCategory}\r\n            onChange={handleCategoryChange}\r\n            className=\"filter-select\"\r\n          >\r\n            {categories.map((category) => (\r\n              <option key={category} value={category}>\r\n                {category}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </section>\r\n      <section className=\"container\" style={{ padding: \"2rem 20px\" }}>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n            marginBottom: \"2rem\",\r\n          }}\r\n        >\r\n          <h2 style={{ fontSize: \"2rem\", fontWeight: \"700\" }}>\r\n            {selectedCategory === \"\" || selectedCategory === \"All\"\r\n              ? \"All Products\"\r\n              : selectedCategory}\r\n          </h2>\r\n          <p style={{ color: \"#666\" }}>\r\n            {filteredProducts.length} product\r\n            {filteredProducts.length !== 1 ? \"s\" : \"\"} found\r\n          </p>\r\n        </div>\r\n\r\n        {filteredProducts.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <h2>{strings.NoProducts}</h2>\r\n            <p>{strings.TryAdjust}</p>\r\n            <button\r\n              onClick={() => {\r\n                setSearchTerm(\"\");\r\n                setSelectedCategory(\"\");\r\n              }}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              {strings.clearFil}\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"products-grid\">\r\n            {filteredProducts.map((product) => (\r\n              <div key={product.id} className=\"product-card\">\r\n                <img\r\n                  src={product.image}\r\n                  alt={product.title}\r\n                  className=\"product-image\"\r\n                />\r\n                <div className=\"product-info\">\r\n                  <h3 className=\"product-title\">{product.title}</h3>\r\n                  <p className=\"product-price\">${product.price}</p>\r\n                  <p className=\"product-description\">{product.description}</p>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      gap: \"0.5rem\",\r\n                      marginTop: \"1rem\",\r\n                    }}\r\n                  >\r\n                    <Link\r\n                      to={`/product/${product.id}`}\r\n                      className=\"btn btn-outline\"\r\n                      style={{ flex: 1 }}\r\n                    >\r\n                      View Details\r\n                    </Link>\r\n                    <Link\r\n                      to={`/product/${product.id}`}\r\n                      className=\"btn btn-primary\"\r\n                      style={{ flex: 1 }}\r\n                    >\r\n                      Add to Cart\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}